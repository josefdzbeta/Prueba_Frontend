<!-- features/event-detail/event-detail.html -->

@if (eventInfo$ | async; as info) {
<h2 class="event-title">{{ info.event.title }}</h2>

<div class="detail-container">
  <!-- Sessions list -->
  <div class="sessions">
    @for (session of sessionsWithSelection$ | async; track session.date) {
    <div class="session-item">
      <div class="session-meta">
        <p>{{ session.date | date:'short' }}</p>
        <p>Disponibles: {{ session.availability }}</p>
      </div>
      <div class="controls">
        <button (click)="decrement(session)" [disabled]="session.selected <= 0">â€“</button>
        <span class="count">{{ session.selected }}</span>
        <button (click)="increment(session)" [disabled]="session.selected >= session.availability">
          +
        </button>
      </div>
    </div>
    } @empty {
    <p class="no-sessions">No hay sesiones disponibles.</p>
    }
  </div>

  <!-- Shopping cart -->
  <div class="cart">
    <!-- <app-shopping-cart [event]="eventInfo$ | async" [items]="sessionsWithSelection$ | async || []">
    </app-shopping-cart> -->
  </div>
</div>

<button class="back-button" routerLink="/">Volver a cartelera</button>
} @else {
<p class="not-found">EVENT INFO NOT FOUND</p>
}
